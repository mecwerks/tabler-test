---
layout: default
title: Homepage
menu: index
---

<style>
</style>
<div class="container">
	<div class="row border">
		<table class="table table-responsive-xl table-hover" id="maintable">
			<thead>
				<tr>
					<th scope="col" class="text-center">Name</th>
					<th scope="col" class="text-center"><img src="/assets/combat.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/attack.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/defence.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/strength.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/hitpoints.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/ranged.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/prayer.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/magic.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/cooking.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/woodcutting.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/fletching.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/fishing.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/firemaking.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/crafting.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/smithing.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/mining.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/herblore.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/agility.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/thieving.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/slayer.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/farming.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/runecraft.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/hunter.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/construction.png"/></th>
					<th scope="col" class="text-center"><img src="/assets/overall.png"/></th>
				</tr>
			</thead>
			<tbody>
				<tr class="mecwerks">
					<td scope="row" class="text-center name">Mecwerks</th>
					<td class="text-center combat">99</td>
					<td class="text-center attack">99</td>
					<td class="text-center defence">99</td>
					<td class="text-center strength">99</td>
					<td class="text-center hitpoints">99</td>
					<td class="text-center ranged">99</td>
					<td class="text-center prayer">99</td>
					<td class="text-center magic">99</td>
					<td class="text-center cooking">99</td>
					<td class="text-center woodcutting">99</td>
					<td class="text-center fletching">99</td>
					<td class="text-center fishing">99</td>
					<td class="text-center firemaking">99</td>
					<td class="text-center crafting">99</td>
					<td class="text-center smithing">99</td>
					<td class="text-center mining">99</td>
					<td class="text-center herblore">99</td>
					<td class="text-center agility">99</td>
					<td class="text-center thieving">99</td>
					<td class="text-center slayer">99</td>
					<td class="text-center farming">99</td>
					<td class="text-center runecraft">99</td>
					<td class="text-center hunter">99</td>
					<td class="text-center construction">99</td>
					<td class="text-center overall">99</td>
				</tr>
				<tr class="dyliciousdux">
					<td scope="row" class="text-center name">DyliciousDux</th>
					<td class="text-center combat">99</td>
					<td class="text-center attack">99</td>
					<td class="text-center defence">99</td>
					<td class="text-center strength">99</td>
					<td class="text-center hitpoints">99</td>
					<td class="text-center ranged">99</td>
					<td class="text-center prayer">99</td>
					<td class="text-center magic">99</td>
					<td class="text-center cooking">99</td>
					<td class="text-center woodcutting">99</td>
					<td class="text-center fletching">99</td>
					<td class="text-center fishing">99</td>
					<td class="text-center firemaking">99</td>
					<td class="text-center crafting">99</td>
					<td class="text-center smithing">99</td>
					<td class="text-center mining">99</td>
					<td class="text-center herblore">99</td>
					<td class="text-center agility">99</td>
					<td class="text-center thieving">99</td>
					<td class="text-center slayer">99</td>
					<td class="text-center farming">99</td>
					<td class="text-center runecraft">99</td>
					<td class="text-center hunter">99</td>
					<td class="text-center construction">99</td>
					<td class="text-center overall">99</td>
				</tr>
				<tr class="dadzera">
					<td scope="row" class="text-center name">Dadzera</th>
					<td class="text-center combat">99</td>
					<td class="text-center attack">99</td>
					<td class="text-center defence">99</td>
					<td class="text-center strength">99</td>
					<td class="text-center hitpoints">99</td>
					<td class="text-center ranged">99</td>
					<td class="text-center prayer">99</td>
					<td class="text-center magic">99</td>
					<td class="text-center cooking">99</td>
					<td class="text-center woodcutting">99</td>
					<td class="text-center fletching">99</td>
					<td class="text-center fishing">99</td>
					<td class="text-center firemaking">99</td>
					<td class="text-center crafting">99</td>
					<td class="text-center smithing">99</td>
					<td class="text-center mining">99</td>
					<td class="text-center herblore">99</td>
					<td class="text-center agility">99</td>
					<td class="text-center thieving">99</td>
					<td class="text-center slayer">99</td>
					<td class="text-center farming">99</td>
					<td class="text-center runecraft">99</td>
					<td class="text-center hunter">99</td>
					<td class="text-center construction">99</td>
					<td class="text-center overall">99</td>
				</tr>
				<tr class="fentonlm">
					<td scope="row" class="text-center name">FentonLM</th>
					<td class="text-center combat">99</td>
					<td class="text-center attack">99</td>
					<td class="text-center defence">99</td>
					<td class="text-center strength">99</td>
					<td class="text-center hitpoints">99</td>
					<td class="text-center ranged">99</td>
					<td class="text-center prayer">99</td>
					<td class="text-center magic">99</td>
					<td class="text-center cooking">99</td>
					<td class="text-center woodcutting">99</td>
					<td class="text-center fletching">99</td>
					<td class="text-center fishing">99</td>
					<td class="text-center firemaking">99</td>
					<td class="text-center crafting">99</td>
					<td class="text-center smithing">99</td>
					<td class="text-center mining">99</td>
					<td class="text-center herblore">99</td>
					<td class="text-center agility">99</td>
					<td class="text-center thieving">99</td>
					<td class="text-center slayer">99</td>
					<td class="text-center farming">99</td>
					<td class="text-center runecraft">99</td>
					<td class="text-center hunter">99</td>
					<td class="text-center construction">99</td>
					<td class="text-center overall">99</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>
<script>

require(['jquery', '/assets/js/jquery.dataTables.min.js'], function($, dataTables) {
	var BASE_SKILLS = [ 
		'overall', 'attack', 'defence', 'strength', 'hitpoints', 'ranged',
		'prayer', 'magic', 'cooking', 'woodcutting', 'fletching', 'fishing',
		'firemaking', 'crafting', 'smithing', 'mining', 'herblore', 'agility', 
		'thieving', 'slayer', 'farming', 'runecraft', 'hunter', 'construction'
	];

	var urls = {
		'osrs': 'http://services.runescape.com/m=hiscore_oldschool/index_lite.ws?player=',
		'rs3': 'http://hiscore.runescape.com/index_lite.ws?player='
	};

	var skills = {
		'osrs': BASE_SKILLS,
		'rs3': BASE_SKILLS.concat('summoning', 'dungeoneering', 'divination')
	};

	function parseStats(raw, skillsList) {
		var stats = raw.split('\n').slice(0, skillsList.length);
		var statsObj = { };
		stats.forEach(function(stat, index) {
			var chunk = stat.split(',');
			statsObj[skillsList[index]] = {
				rank: parseInt(+chunk[0]),
				level: parseInt(+chunk[1]),
				xp: parseInt(+chunk[2])
			};
		});
		return statsObj;
	}

	function lookup(player, game, callback) {
		if (!urls.hasOwnProperty(game)) {
			game = 'rs3';
		}
		var url = 'https://cors-anywhere.herokuapp.com/';
		
		url = url.concat(urls[game].concat(encodeURIComponent(player)));

		$.ajax({
			url:url,
			success: function(data) { callback(null, parseStats(data,skills[game])); },
			error: function(jqXHR, textStatus, ex) { }
		});
	};

	function LoadStats(user) {
		lookup(user, "osrs", function(err, stats) { 
			skills["osrs"].forEach(function(stat, index) {
				$('.' + user + ' .' + stat)[0].innerText = stats[stat].level;
			});

			var base = 0.25 * (stats.defence.level + stats.hitpoints.level + Math.floor(stats.prayer.level/2));
			var melee = 0.325 * (stats.attack.level + stats.strength.level);
			var range = 0.325 * (Math.floor(stats.ranged.level/2) + stats.ranged.level);
			var mage = 0.325 * (Math.floor(stats.magic.level/2) + stats.magic.level);
			var combatlvl = Math.floor(base + Math.max(melee, range, mage));
			
			$('.' + user + ' .combat')[0].innerText = combatlvl;
		});
	}

	$( document ).ready(function() {
		if (0) {
		$('#maintable').DataTable({
			"paging":   false,
			"info":     false,
			"searching": false,
			"columns": [
			    { "type": "string" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
				{ "type": "numeric" },
			]
    	});
		}
		LoadStats('mecwerks');
		LoadStats('dyliciousdux');
		LoadStats('dadzera');
		LoadStats('fentonlm');
	});
});
</script>